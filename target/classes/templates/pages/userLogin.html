<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="zh_CN" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">

<head>
    <meta charset="UTF-8">
    <title>用户登录首页</title>

<link rel="stylesheet" th:href="@{/layui/css/layui.css}">



</head>
<body class="layui-layout-body">

<div class="layui-layout layui-layout-admin">

    <div class="layui-header" th:fragment="shopTopBar">
        <div class="layui-logo">校园二手交易平台</div>
        <!-- 头部区域（可配合layui已有的水平导航） -->
        <ul class="layui-nav layui-layout-left">
            <li class="layui-nav-item"><a href="/common/loginIndex">系统主页</a></li>
        </ul>

        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item">
                用户名：[[${session.currentUser.realName}]]
            </li>
            <li class="layui-nav-item"><a href="javascript:readyLogout()">
                <i class="layui-icon layui-icon-set-fill" style="font-size: 20px; color: #1E9FFF;"></i>  退出</a></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black" th:fragment="shopLightBar">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree"  lay-filter="test">

                <shiro:lacksRole name="系统使用用户">
                    <li class="layui-nav-item">
                        <a class="" href="javascript:;"><i class="layui-icon layui-icon-home" style="font-size: 20px;"></i>  平台数据统计</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" th:href="@{/common/totalpublishs}">
                                <i class="layui-icon layui-icon-upload-drag"></i>  二手商品数据统计</a></dd>
                            <dd><a href="javascript:;" th:href="@{/admins/showUserList}">
                                <i class="layui-icon layui-icon-upload-drag"></i>  查看所有注册用户</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a class="" href="javascript:;"><i class="layui-icon layui-icon-home" style="font-size: 20px;"></i>  审核学生请求</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" th:href="@{/common/checkSchools}">
                                <i class="layui-icon layui-icon-upload-drag"></i>  申请学校请求</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/checkGoods}">
                                <i class="layui-icon layui-icon-search"></i>  发布商品请求</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/creditConflict}">
                                <i class="layui-icon layui-icon-search"></i>  信用评分处理</a></dd>
                        </dl>
                    </li>

                    <li class="layui-nav-item">
                        <a href="javascript:;"><i class="layui-icon layui-icon-set-fill" style="font-size: 20px;"></i>  个人中心</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" th:href="@{/common/NoticesManager}">
                                <i class="layui-icon layui-icon-util"></i>  公告管理</a></dd>
                            <dd><a href="javascript:;" th:href="@{/admins/adminInfos}">
                                <i class="layui-icon layui-icon-util"></i>  个人信息</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/verifyEmail}">
                                <i class="layui-icon layui-icon-util"></i>  验证邮箱</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/updatePass}">
                                <i class="layui-icon layui-icon-util"></i>  修改密码</a></dd>
                        </dl>
                    </li>

                    <shiro:hasRole name="超级管理员">
                        <li class="layui-nav-item">
                            <a class="" href="javascript:;"><i class="layui-icon layui-icon-home" style="font-size: 20px;"></i>  角色与权限管理</a>
                            <dl class="layui-nav-child">
                                <dd><a href="javascript:;" th:href="@{/common/adminUsers}">
                                    <i class="layui-icon layui-icon-upload-drag"></i>  管理后台用户</a></dd>
                                <dd><a href="javascript:;" th:href="@{/common/adminRoles}">
                                    <i class="layui-icon layui-icon-upload-drag"></i>  角色管理</a></dd>
                                <dd><a href="javascript:;" th:href="@{/common/adminPermission}">
                                    <i class="layui-icon layui-icon-search"></i>  权限管理</a></dd>
                                <dd><a href="javascript:;" th:href="@{/common/searchLogs}">
                                    <i class="layui-icon layui-icon-search"></i>  查看日志</a></dd>
                            </dl>
                        </li>
                    </shiro:hasRole>
                </shiro:lacksRole>

                <shiro:hasRole name="系统使用用户">
                    <li class="layui-nav-item"><!--layui-nav-itemed-->
                        <a class="" href="javascript:;"><i class="layui-icon layui-icon-home" style="font-size: 20px;"></i>  商品信息</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" th:href="@{/common/releaseGoods}">
                                <i class="layui-icon layui-icon-upload-drag"></i>  上传二手商品</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/lookForGoods}">
                                <i class="layui-icon layui-icon-search"></i>  浏览二手商品</a></dd>
                        </dl>
                    </li>

                    <li class="layui-nav-item">
                        <a href="javascript:;"><i class="layui-icon layui-icon-cart-simple" style="font-size: 20px;"></i>  商品管理</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" th:href="@{/common/collectGoods}">
                                <i class="layui-icon layui-icon-cart"></i>  商品收藏记录</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/buyGoods}">
                                <i class="layui-icon layui-icon-cart"></i>  下订购买记录</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/trading}">
                                <i class="layui-icon layui-icon-cart"></i>  商品出售情况</a></dd>
                        </dl>
                    </li>

                    <li class="layui-nav-item">
                        <a href="javascript:;"><i class="layui-icon layui-icon-set-fill" style="font-size: 20px;"></i>  个人中心</a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" th:href="@{/common/userInfos}">
                                <i class="layui-icon layui-icon-user"></i>  个人信息</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/verifyEmail}">
                                <i class="layui-icon layui-icon-util"></i>  验证邮箱</a></dd>
                            <dd><a href="javascript:;" th:href="@{/common/updatePass}">
                                <i class="layui-icon layui-icon-util"></i>  修改密码</a></dd>
                        </dl>
                    </li>
                </shiro:hasRole>

            </ul>
        </div>
    </div>


    <!--       ======================    管理员   ===================           -->

    <shiro:lacksRole name="系统使用用户">
    <div class="layui-body">
        <!-- 内容主体区域 -->
        <div style="padding: 20px; background-color: #F2F2F2;">
            <div class="layui-row layui-col-space15">
                <div class="layui-col-md12">
                    <div class="layui-card">
                        <div class="layui-card-header">系统提示</div>
                        <div class="layui-card-body">
                            <!--内容-->
                            <div class="layui-row">
                                <div class="layui-col-md6">
                                    <div class="layui-row grid-demo">
                                        <div class="layui-col-md6" style="height: 100px; background-color: coral; border: 2px solid #fbfbfb;">
                                            <p style="font-family: 楷体; font-size: 30px; color: #FFFFFF; margin: 35px 24px;">
                                                <i class="layui-icon layui-icon-user" style="font-size: 30px; color: #FFFFFF;"></i>系统注册人数</p>
                                        </div>
                                        <div class="layui-col-md6" style="height: 100px; ">
                                            <a href="#"><p id="sysCounts" style="font-family: 楷体; font-size: 60px; color: black; margin: 40px 110px;"></p></a>
                                        </div>
                                        <div class="layui-col-md6" style="height: 100px; background-color: coral; border: 2px solid #fbfbfb">
                                            <p style="font-family: 楷体; font-size: 30px; color: #FFFFFF; margin: 35px 24px;">
                                                <i class="layui-icon layui-icon-username" style="font-size: 30px; color: #FFFFFF;"></i>今天注册人数</p>
                                        </div>
                                        <div class="layui-col-md6" style="height: 100px; ">
                                            <a href="#"><p id="sysRegister" style="font-family: 楷体; font-size: 60px; color: black; margin: 40px 110px;"></p></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="layui-col-md6">
                                    <div class="layui-row grid-demo">
                                        <div class="layui-col-md6" style="height: 100px; background-color: coral; border: 2px solid #fbfbfb;">
                                            <p style="font-family: 楷体; font-size: 30px; color: #FFFFFF; margin: 35px 24px;">
                                                <i class="layui-icon layui-icon-add-1" style="font-size: 30px; color: #FFFFFF;"></i>商品发布总数</p>
                                        </div>
                                        <div class="layui-col-md6" style="height: 100px; ">
                                            <a href="#"><p id="sysPublishs" style="font-family: 楷体; font-size: 60px; color: black; margin: 40px 110px;"></p></a>
                                        </div>
                                        <div class="layui-col-md6" style="height: 100px; background-color: coral; border: 2px solid #fbfbfb">
                                            <p style="font-family: 楷体; font-size: 30px; color: #FFFFFF; margin: 35px 24px;">
                                                <i class="layui-icon layui-icon-cart" style="font-size: 30px; color: #FFFFFF;"></i>商品交易总数</p>
                                        </div>
                                        <div class="layui-col-md6" style="height: 100px; ">
                                            <a href="#"><p id="sysBuys" style="font-family: 楷体; font-size: 60px; color: black; margin: 40px 110px;"></p></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--  下面的部分  用于显示 ECharts 图表 -->
                <div class="layui-col-md6">
                    <div class="layui-row grid-demo">
                        <div class="layui-col-md12" style="border: 1px silver solid">
                            <!--内部列-->
                            <div class="layui-card">
                                <div class="layui-card-header" style="background-color: #c9c9c9; text-align: center;">二手商品类型占比</div>
                                <div class="layui-card-body">
                                    <!--卡片式面板面板通常用于非白色背景色的主体内<br>-->
                                    <div style="display: block; padding: 15px; height: 300px;" id="larry-seo-stats"></div>
                                </div>
                            </div>
                        </div>
                        <div class="layui-col-md12" style="border: 1px silver solid">
                            <!--内部列-->
                            <div class="layui-card">
                                <div class="layui-card-header" style="background-color: #c9c9c9; text-align: center;">二手商品状态显示</div>
                                <div class="layui-card-body">
                                    <!--卡片式面板面板通常用于非白色背景色的主体内<br>-->
                                    <div style="display: block; padding: 15px; height: 280px;" id="larry-pic-btn"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="layui-col-md6">
                    <div class="layui-row grid-demo">
                        <div class="layui-col-md12" style="border: 1px silver solid">
                            <div class="layui-card">
                                <div class="layui-card-header">系统公告</div>
                                <div class="layui-card-body">
                                    <!--结合 layui 的栅格系统<br>-->
                                    <div style="display: block; height: 550px;">
                                        <blockquote class="layui-elem-quote role_search">
                                            <div class="layui-inline">
                                                <div class="layui-input-inline">
                                                    <input id="keyword" type="text" value="" placeholder="请输入公告标题" class="layui-input search_input">
                                                </div>
                                                <a class="layui-btn search_btn" onclick="query()"><i class="layui-icon layui-icon-search"></i>查  询</a>
                                            </div>
                                        </blockquote>
                                        <table class="layui-hide" id="category" lay-filter="tools"></table>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="layui-col-md12" style="border: 1px silver solid">
                            <div style="height: 150px; text-align: center; font-size: 40px; color: red; background-color: #c2c2c2">
                                <p style="padding: 50px 10px">广告位招租</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    </shiro:lacksRole>
    <!--     ===================             以上为管理员            =======================     -->


    <shiro:hasRole name="系统使用用户">
        <div class="layui-body">
            <!-- 样式布局主体区域 -->
            <div style="padding: 20px; background-color: #F2F2F2;">
                <div class="layui-row layui-col-space15">

                    <div class="layui-col-md12">
                        <div class="layui-card">

                            <div class="layui-card-header" style="background-color: #009688;">
                                <p style="text-align: center;font-size: 40px;padding: 10px auto; font-family: 隶书; color: white">欢迎进入校园二手交易平台</p>
                            </div>
                            <div class="layui-card-body">

                                <!--   主要内容   -->

                                <div class="layui-row">
                                    <div class="layui-col-md12" style="border: #c9c9c9 1px solid">

                                        <div class="layui-row">
                                            <div class="layui-col-md12" style="color: #009688; height: 500px;" >
                                                <div class="layui-carousel" id="test1" lay-filter="carofilter" style="font-size:larger; margin: 50px auto;">
                                                    <div carousel-item>
                                                        <div><img th:src="${onePhoto}" /></div>
                                                        <div><img th:src="${twoPhoto}" /></div>
                                                        <div><img th:src="${threePhoto}" /></div>
                                                        <div><img th:src="${fourPhoto}" /></div>
                                                        <div><img th:src="${fivePhoto}" /></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                    <div class="layui-col-md12">
                        <div style="margin: 0px 1000px; background-color: #009688;">
                            <a class="layui-btn search_btn" style="color: white; font-size: 24px; font-family: 隶书; text-align: center; border-radius: 7px;" onclick="jumpTips()">系统温馨提示</a>
                        </div>
                    </div>

                </div>
            </div>



        </div>

    </shiro:hasRole>



    <div class="layui-footer" style="text-align: center" th:fragment="shopFootBar">
        <!-- 底部固定区域 -->
        <p>©copyRight chenxihua - 校园二手交易平台</p>
    </div>

</div>


<script type="text/html" id="tools">
    <a class="layui-btn layui-btn-xs layui-btn-normal" lay-event="look_Btn">
        <i class="layui-icon layui-icon-search"></i>查看公告</a>
</script>

<script th:src="@{/layui/layui.js}"></script>
<script th:src="@{/layui/jquery-3.3.1.js}"></script>
<script th:src="@{/layui/echarts.min.js}"></script>
<script th:src="@{/biz/userLogin.js}"></script>


<script type="text/javascript">
    function readyLogout(){
        layer.confirm('即将退出系统，要继续吗？', function (index) {
            window.location.href='/common/logout';
        });
    }
</script>



</body>
</html>